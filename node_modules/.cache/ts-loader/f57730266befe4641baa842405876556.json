{"remainingRequest":"H:\\桌面\\showtimecodeweb\\node_modules\\babel-loader\\lib\\index.js!H:\\桌面\\showtimecodeweb\\node_modules\\ts-loader\\index.js??ref--14-2!H:\\桌面\\showtimecodeweb\\src\\utils\\tokenManger.ts","dependencies":[{"path":"H:\\桌面\\showtimecodeweb\\src\\utils\\tokenManger.ts","mtime":1644941712109},{"path":"H:\\桌面\\showtimecodeweb\\babel.config.js","mtime":1642330622538},{"path":"H:\\桌面\\showtimecodeweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642330605221},{"path":"H:\\桌面\\showtimecodeweb\\node_modules\\babel-loader\\lib\\index.js","mtime":1642330607368},{"path":"H:\\桌面\\showtimecodeweb\\node_modules\\ts-loader\\index.js","mtime":1642330608824}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIucGFyc2UtaW50LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKZXhwb3J0IGZ1bmN0aW9uIHRva2VuUmVjb3JkKHRva2VuSW5mbykgewogIGlmICghdG9rZW5JbmZvKSByZXR1cm47CiAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY2Nlc3NfdG9rZW4nLCB0b2tlbkluZm8uYWNjZXNzX3Rva2VuKTsKICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2V4cGlyZXNfaW4nLCB0b2tlbkluZm8uZXhwaXJlc19pbi50b1N0cmluZygpKTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0VG9rZW5SZWNvcmQoKSB7CiAgdmFyIF93aW5kb3ckbG9jYWxTdG9yYWdlJCwgX3dpbmRvdyRsb2NhbFN0b3JhZ2UkMjsKCiAgdmFyIHRva2VuSW5mbyA9IHsKICAgIGFjY2Vzc190b2tlbjogKF93aW5kb3ckbG9jYWxTdG9yYWdlJCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuJykpICE9PSBudWxsICYmIF93aW5kb3ckbG9jYWxTdG9yYWdlJCAhPT0gdm9pZCAwID8gX3dpbmRvdyRsb2NhbFN0b3JhZ2UkIDogJycsCiAgICBleHBpcmVzX2luOiBOdW1iZXIucGFyc2VJbnQoKF93aW5kb3ckbG9jYWxTdG9yYWdlJDIgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc190b2tlbicpKSAhPT0gbnVsbCAmJiBfd2luZG93JGxvY2FsU3RvcmFnZSQyICE9PSB2b2lkIDAgPyBfd2luZG93JGxvY2FsU3RvcmFnZSQyIDogJzAnKQogIH07CiAgcmV0dXJuIHRva2VuSW5mbzsKfQ=="},{"version":3,"sources":["H:\\桌面\\showtimecodeweb\\src\\utils\\tokenManger.ts"],"names":[],"mappings":";;;;AAIA,OAAM,SAAU,WAAV,CAAsB,SAAtB,EAA0C;AAC5C,MAAI,CAAC,SAAL,EAAgB;AAChB,EAAA,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,cAA5B,EAA4C,SAAS,CAAC,YAAtD;AACA,EAAA,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,YAA5B,EAA0C,SAAS,CAAC,UAAV,CAAqB,QAArB,EAA1C;AACH;AAED,OAAM,SAAU,cAAV,GAAwB;AAAA;;AAC1B,MAAI,SAAS,GAAc;AACvB,IAAA,YAAY,2BAAE,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,cAA5B,CAAF,yEAAiD,EADtC;AAEvB,IAAA,UAAU,EAAE,MAAM,CAAC,QAAP,2BAAgB,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,cAA5B,CAAhB,2EAA+D,GAA/D;AAFW,GAA3B;AAIA,SAAO,SAAP;AACH","sourcesContent":["interface TokenInfo {\r\n    access_token: string\r\n    expires_in: number\r\n}\r\nexport function tokenRecord(tokenInfo: TokenInfo): any {\r\n    if (!tokenInfo) return\r\n    window.localStorage.setItem('access_token', tokenInfo.access_token)\r\n    window.localStorage.setItem('expires_in', tokenInfo.expires_in.toString())\r\n}\r\n\r\nexport function getTokenRecord(): TokenInfo {\r\n    let tokenInfo: TokenInfo = {\r\n        access_token: window.localStorage.getItem('access_token') ?? '',\r\n        expires_in: Number.parseInt(window.localStorage.getItem('access_token') ?? '0')\r\n    };\r\n    return tokenInfo\r\n}\r\n"],"sourceRoot":""}]}